"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[925],{154:function(e,t,n){n.d(t,{a:function(){return c}});var r,a=n(168),u=n(686),o=n(87),c=(0,u.Z)(o.rU)(r||(r=(0,a.Z)(["\n  display: block;\n  color: white;\n  background-color: darkcyan;\n  text-decoration: none;\n  width: 100px;\n  border-radius: 4px;\n  text-align: center;\n  padding: 0.5rem;\n  margin-bottom: 1rem;\n  text-transform: uppercase;\n  font-weight: 500;\n"])))},925:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(439),a=n(689),u=n(87),o=n(184),c=function(e){var t,n=(0,a.TH)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("ul",{children:null===(t=e.movies)||void 0===t?void 0:t.map((function(e){var t=e.id,r=e.title;return(0,o.jsx)("li",{children:(0,o.jsx)(u.rU,{to:"/movies/".concat(t),state:{from:n},children:r})},t)}))})})},i=n(791),s=n(861),l=n(687),f=n.n(l),d=n(243),v=function(){var e=(0,s.Z)(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/search/movie?query=".concat(t,"&language=en-US&api_key=8cf662758bc2884725173cf48e8fe898"),e.prev=1,e.next=4,d.Z.get(n);case 4:if((r=e.sent).data.results){e.next=7;break}throw new Error;case 7:return e.abrupt("return",r.data.results);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),h=v,p=n(154),m=function(){var e,t,n,s=(0,i.useState)([]),l=(0,r.Z)(s,2),f=l[0],d=l[1],v=(0,i.useState)(),m=(0,r.Z)(v,2),g=m[0],x=m[1],y=(0,u.lr)(),b=(0,r.Z)(y,2),k=b[0],w=b[1],j=(0,a.TH)(),_=(0,i.useRef)(null!==(e=null===(t=j.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");return(0,i.useEffect)((function(){g&&h(g).then((function(e){return d(e)})).catch()}),[g]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.a,{to:_.current,children:"Go Back"}),(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.query.value;if(console.log("queryResult is: ",t),!t)return alert("please enter a query");x(t),w({query:t})},children:[(0,o.jsx)("input",{onChange:function(e){return w({query:e.target.value})},type:"text",name:"query",value:null!==(n=k.get("query"))&&void 0!==n?n:""}),(0,o.jsx)("button",{type:"submit",children:"Search"})]}),(0,o.jsx)(c,{movies:f})]})}}}]);
//# sourceMappingURL=925.ccaee7fd.chunk.js.map