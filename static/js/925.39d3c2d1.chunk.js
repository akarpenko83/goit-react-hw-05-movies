"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[925],{925:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var n=r(439),u=r(689),a=r(87),s=r(184),c=function(e){var t,r=(0,u.TH)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("ul",{children:null===(t=e.movies)||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.title;return(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/movies/".concat(t),state:{from:r},children:n})},t)}))})})},i=r(791),o=r(861),l=r(687),f=r.n(l),v=r(243),h=function(){var e=(0,o.Z)(f().mark((function e(t){var r,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/search/movie?query=".concat(t,"&language=en-US&api_key=8cf662758bc2884725173cf48e8fe898"),e.prev=1,e.next=4,v.Z.get(r);case 4:if((n=e.sent).data.results){e.next=7;break}throw new Error;case 7:return e.abrupt("return",n.data.results);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),d=h,p=function(){var e,t,r,o=(0,i.useState)([]),l=(0,n.Z)(o,2),f=l[0],v=l[1],h=(0,i.useState)(),p=(0,n.Z)(h,2),m=p[0],g=p[1],x=(0,a.lr)(),y=(0,n.Z)(x,2),j=y[0],b=y[1],_=(0,u.TH)(),k=(0,i.useRef)(null!==(e=null===(t=_.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");return(0,i.useEffect)((function(){m&&d(m).then((function(e){return v(e)})).catch()}),[m]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.rU,{to:k.current,children:"Back"}),(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.query.value;if(console.log("queryResult is: ",t),!t)return alert("please enter a query");g(t),b({query:t})},children:[(0,s.jsx)("input",{onChange:function(e){return b({query:e.target.value})},type:"text",name:"query",value:null!==(r=j.get("query"))&&void 0!==r?r:""}),(0,s.jsx)("button",{type:"submit",children:"Search"})]}),(0,s.jsx)(c,{movies:f})]})}}}]);
//# sourceMappingURL=925.39d3c2d1.chunk.js.map